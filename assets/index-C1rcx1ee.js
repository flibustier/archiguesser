import{c as i,o,a as t,d as I,b as $,t as w,e as g,r as be,w as _e,f as P,g as Se,h as N,u as x,i as f,j as _,k,n as D,F as V,l as H,m as U,v as R,p as Qe,q as le,s as Me,x as ee,y as Xe,z as Ze,A as et}from"./vue-DPnvZWOv.js";import{d as G}from"./data-CV8rhFl-.js";import{r as te}from"./recommendations-W0UItl8S.js";import{s as tt}from"./suggestions-vdCZCVZD.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const r of u.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();const st="ArchiGuesser",nt="https://archiguesser.com",se=[2022,6,1],ot=[198,214,332,484,491,519,547,694,750,993],ae=5,xe=5,lt=3,ie=6,Ce=["famous","monument","museum","castle","library","religious","skyscraper","United States of America (USA)","France","Germany","Spain","United Kingdom (UK)","Japan","China","Portugal","Italy","Le Corbusier","Zaha Hadid"],re=["Jean Nouvel","Renzo Piano","Architecture Classics","concert hall","modernism","brutalism","contemporary","housing","Netherlands","Brazil"],at=Date.UTC(se[0],se[1],se[2]),it=e=>(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())-at)/1e3/60/60/24,O=()=>it(new Date),J=e=>JSON.parse(localStorage.getItem(e)||"{}"),ve=e=>JSON.parse(localStorage.getItem(e)||"[]"),K=()=>J("stats"),rt=()=>J("settings"),W=()=>J("challenges"),ut=()=>({email:"",want_credit:!1,credit_name:"",...J("feedbackForm")}),Ie=e=>(s,n)=>localStorage.setItem(e,JSON.stringify({...J(e),[s]:n})),ct=Ie("settings"),X=Ie("challenges"),dt=e=>{localStorage.setItem("feedbackForm",JSON.stringify({email:e.email,want_credit:e.want_credit,credit_name:e.credit_name}))},Le=e=>(s,n)=>localStorage.setItem(e,JSON.stringify({...J(e),...JSON.parse(s),...n})),pt=Le("stats"),mt=Le("challenges"),vt=(e,s)=>localStorage.setItem("login",btoa(e+":"+s)),ht=()=>localStorage.removeItem("login"),he=()=>{const e=localStorage.getItem("login");if(e){const s=atob(e),n=s.substring(0,s.indexOf(":")),l=s.substring(s.indexOf(":")+1);return{email:n,password:l}}return{email:"",password:""}},T=()=>localStorage.getItem("login")!=null,Ve=()=>{const{firstPlayed:e,lastPlayed:s,...n}=K();return Object.values(n).reduce((l,a)=>l+1+(7-a)%7,0)},Ae=()=>{const{dayNumber:e,retryCount:s,...n}=W();return Object.values(n).reduce((l,a)=>{let u=0;for(let r=1;r<=a;r++)u+=r*50;return l+u},0)},ge=()=>Ve()+Ae()+(T()?50:0),je=()=>ve("feedback").map(({value:s})=>s).filter(s=>!["skipped","never"].includes(s)),Pe=(e="skipped")=>{const s=ve("feedback").filter(({value:n})=>n!=="skipped");s.push({day:O(),value:e}),localStorage.setItem("feedback",JSON.stringify(s))},ue=()=>ve("feedback").sort((e,s)=>e.day-s.day).pop(),ze=()=>{let e=localStorage.getItem("clientID");if(e)return e;try{e=crypto.randomUUID()}catch{e=Math.random().toString(16).substring(2,15)}return localStorage.setItem("clientID",e),e},gt=ze,Z=()=>ge()===0&&!localStorage.getItem("clientID"),b=(e,s)=>{const n=e.__vccOpts||e;for(const[l,a]of s)n[l]=a;return n},ft={},yt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"20",height:"20",class:"icon"};function wt(e,s){return o(),i("svg",yt,s[0]||(s[0]=[t("path",{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 464c-118.7 0-216-96.1-216-216 0-118.7 96.1-216 216-216 118.7 0 216 96.1 216 216 0 118.7-96.1 216-216 216zm94.8-285.3L281.5 256l69.3 69.3c4.7 4.7 4.7 12.3 0 17l-8.5 8.5c-4.7 4.7-12.3 4.7-17 0L256 281.5l-69.3 69.3c-4.7 4.7-12.3 4.7-17 0l-8.5-8.5c-4.7-4.7-4.7-12.3 0-17l69.3-69.3-69.3-69.3c-4.7-4.7-4.7-12.3 0-17l8.5-8.5c4.7-4.7 12.3-4.7 17 0l69.3 69.3 69.3-69.3c4.7-4.7 12.3-4.7 17 0l8.5 8.5c4.6 4.7 4.6 12.3 0 17z"},null,-1)]))}const bt=b(ft,[["render",wt],["__scopeId","data-v-af867c20"]]),kt={class:"modal-header"},$t={class:"column modal-body"},_t={key:0,class:"modal-footer"},St=I({__name:"BaseModal",props:{isVisible:{type:Boolean,default:!1},title:{type:String,default:""}},emits:["update:isVisible"],setup(e,{emit:s}){const n=s,l=()=>{n("update:isVisible",!1),window.location.hash=""};return(a,u)=>e.isVisible?(o(),i("div",{key:0,class:"modal",onClick:l},[t("div",{class:"modal-content",onClick:u[0]||(u[0]=_e(()=>{},["stop"]))},[t("div",kt,[t("h2",null,w(e.title),1),t("div",{class:"close",onClick:l},[g(bt)])]),t("div",$t,[be(a.$slots,"default",{},void 0),a.$slots.footer?(o(),i("div",_t,[be(a.$slots,"footer",{},void 0)])):$("",!0)])])])):$("",!0)}}),q=b(St,[["__scopeId","data-v-0ed6292c"]]),Mt={},xt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",width:"25",height:"25"};function Ct(e,s){return o(),i("svg",xt,s[0]||(s[0]=[t("path",{d:"M288 288a64 64 0 0 0 0-128c-1 0-1.88.24-2.85.29a47.5 47.5 0 0 1-60.86 60.86c0 1-.29 1.88-.29 2.85a64 64 0 0 0 64 64zm284.52-46.6C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 96a128 128 0 1 1-128 128A128.14 128.14 0 0 1 288 96zm0 320c-107.36 0-205.46-61.31-256-160a294.78 294.78 0 0 1 129.78-129.33C140.91 153.69 128 187.17 128 224a160 160 0 0 0 320 0c0-36.83-12.91-70.31-33.78-97.33A294.78 294.78 0 0 1 544 256c-50.53 98.69-148.64 160-256 160z"},null,-1)]))}const It=b(Mt,[["render",Ct]]),Lt={},Vt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"25",height:"25"};function At(e,s){return o(),i("svg",Vt,s[0]||(s[0]=[t("path",{d:"M32.39 224C14.73 224 0 238.33 0 256s14.73 32 32.39 32a32 32 0 0 0 0-64zm0-160C14.73 64 0 78.33 0 96s14.73 32 32.39 32a32 32 0 0 0 0-64zm0 320C14.73 384 0 398.33 0 416s14.73 32 32.39 32a32 32 0 0 0 0-64zM504 80H136a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h368a8 8 0 0 0 8-8V88a8 8 0 0 0-8-8zm0 160H136a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h368a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8zm0 160H136a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h368a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8z"},null,-1)]))}const jt=b(Lt,[["render",At]]),Pt={},zt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",width:"25",height:"25"};function Ht(e,s){return o(),i("svg",zt,s[0]||(s[0]=[t("path",{d:"M528 32H112c-26.51 0-48 21.49-48 48v16H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48v-16h16c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zm-48 400c0 8.822-7.178 16-16 16H48c-8.822 0-16-7.178-16-16V144c0-8.822 7.178-16 16-16h16v240c0 26.51 21.49 48 48 48h368v16zm64-64c0 8.822-7.178 16-16 16H112c-8.822 0-16-7.178-16-16V80c0-8.822 7.178-16 16-16h416c8.822 0 16 7.178 16 16v288zM176 200c30.928 0 56-25.072 56-56s-25.072-56-56-56-56 25.072-56 56 25.072 56 56 56zm0-80c13.234 0 24 10.766 24 24s-10.766 24-24 24-24-10.766-24-24 10.766-24 24-24zm240.971 23.029c-9.373-9.373-24.568-9.373-33.941 0L288 238.059l-31.029-31.03c-9.373-9.373-24.569-9.373-33.941 0l-88 88A24.002 24.002 0 0 0 128 312v28c0 6.627 5.373 12 12 12h360c6.627 0 12-5.373 12-12v-92c0-6.365-2.529-12.47-7.029-16.971l-88-88zM480 320H160v-4.686l80-80 48 48 112-112 80 80V320z"},null,-1)]))}const Tt=b(Pt,[["render",Ht]]),He=e=>G.find(({days:s})=>s.includes(e)),Bt=()=>Math.max(...G.flatMap(({days:e})=>e)),Nt=()=>Math.max(...G.flatMap(({days:e})=>e).filter(e=>e<=O())),Et=e=>{const{categories:s=[]}=He(e)||{};return s.includes("monument")},Te=e=>{const s=G.filter(({categories:n=[]})=>n.includes(e));return s.length>0?s:G.filter(({answer:n})=>n.includes(e))},Be=()=>{const s=new URLSearchParams(window.location.search).get("day");let n=s?parseInt(s):O();G.some(({days:a})=>a.includes(n))||(n=Nt());const l=He(n);if(l){let a=l.copyrights[0]||{};if(l.copyrights.length>1){const u=l.days.indexOf(n);a=l.copyrights[u]||{}}return{...l,dayNumber:n,isMonument:l.categories.includes("monument"),constructionYears:l.years,copyrights:a}}return console.log(`Day ${n} not found`),{dayNumber:1,answer:G[1].answer,isMonument:!1}},Dt={class:"row"},Ot={class:"row"},Ut={class:"row"},Rt=I({__name:"InfoModal",props:{isVisible:{type:Boolean,default:!1}},emits:["update:isVisible"],setup(e,{emit:s}){const n=s,l=()=>{Z()&&gt(),n("update:isVisible",!1)};return(a,u)=>(o(),P(q,{title:x(Z)()?"Welcome to ArchiGuesser!":"About","is-visible":e.isVisible,"onUpdate:isVisible":l},Se({default:N(()=>[u[3]||(u[3]=t("p",null,[f(" ArchiGuesser is a game for architects and enthusiasts, inspired by "),t("a",{href:"https://framed.wtf",class:"underline"},"Framed"),f(", "),t("a",{href:"https://www.nytimes.com/games/wordle/index.html",class:"underline"},"Wordle"),f(" and "),t("a",{href:"https://medium.com/floodgates/the-complete-and-authoritative-list-of-wordle-spinoffs-fb00bfafc448",class:"underline"},"all the other spinoffs"),f(". ")],-1)),u[4]||(u[4]=t("p",null,"Each day an architectural project is picked from a curated list",-1)),t("div",Dt,[g(Tt),u[0]||(u[0]=t("p",null,"Use the image provided to guess the name of the project.",-1))]),t("div",Ot,[g(It),u[1]||(u[1]=t("p",null,[f(" If you get a guess wrong a new image from the project is revealed."),t("br"),f(" A hint is given after 3 tries. ")],-1))]),t("div",Ut,[g(jt),u[2]||(u[2]=t("p",null," You have a maximum of 6 tries (which means 6 pictures) to find the project of the day. ",-1))]),u[5]||(u[5]=t("p",{class:"space-before"}," All picture rights go to the rightful owners - no copyright infringement intended. ",-1)),u[6]||(u[6]=t("p",null,[f(" This project is Open Source and can be found on "),t("a",{href:"https://github.com/flibustier/archiguesser"},"GitHub"),f(". ")],-1))]),_:2},[x(Z)()?{name:"footer",fn:N(()=>[t("button",{class:"btn-secondary btn-small self-center",onClick:l}," Start playing! ")]),key:"1"}:{name:"footer",fn:N(()=>[u[8]||(u[8]=t("div",null,[t("p",null,[f(" Got a suggestion or want to contribute ? Contact me via "),t("a",{href:"https://www.instagram.com/archiguesser/"},"Instagram"),f(" or "),t("a",{href:"mailto:contact@archiguesser.com"},"email"),f(" ! ")])],-1)),t("div",null,[t("p",null,[u[7]||(u[7]=t("a",{href:"https://ko-fi.com/flibustier",target:"_blank",rel:"noreferrer"},"Buy me a coffee? ☕️",-1)),f(" #"+w(x(Bt)()),1)])])]),key:"0"}]),1032,["title","is-visible"]))}}),Gt=b(Rt,[["__scopeId","data-v-1db95a9a"]]),Ft={},qt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"20",height:"20"};function Wt(e,s){return o(),i("svg",qt,s[0]||(s[0]=[t("path",{d:"M267.5 281.1l192 159.4c20.6 17.2 52.5 2.8 52.5-24.6V96c0-27.4-31.9-41.8-52.5-24.6L267.5 232c-15.3 12.8-15.3 36.4 0 49.1zm20.5-24.5L480 96v320L288 256.6zM11.5 281.1l192 159.4c20.6 17.2 52.5 2.8 52.5-24.6V96c0-27.4-31.9-41.8-52.5-24.6L11.5 232c-15.3 12.8-15.3 36.4 0 49.1zM32 256.6L224 96v320L32 256.6z"},null,-1)]))}const fe=b(Ft,[["render",Wt]]),Yt={},Jt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"20",height:"20"};function Kt(e,s){return o(),i("svg",Jt,s[0]||(s[0]=[t("path",{d:"M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 464c-118.664 0-216-96.055-216-216 0-118.663 96.055-216 216-216 118.664 0 216 96.055 216 216 0 118.663-96.055 216-216 216zm141.63-274.961L217.15 376.071c-4.705 4.667-12.303 4.637-16.97-.068l-85.878-86.572c-4.667-4.705-4.637-12.303.068-16.97l8.52-8.451c4.705-4.667 12.303-4.637 16.97.068l68.976 69.533 163.441-162.13c4.705-4.667 12.303-4.637 16.97.068l8.451 8.52c4.668 4.705 4.637 12.303-.068 16.97z"},null,-1)]))}const ce=b(Yt,[["render",Kt]]),Qt={style:{"margin-right":"0.5rem"}},Xt={class:"switch"},Zt=["id","name","checked"],es=I({__name:"ToggleSwitch",props:{modelValue:{type:Boolean,default:!1},label:{type:String,default:""},id:{type:String,default:""}},emits:["update:modelValue"],setup(e){return(s,n)=>(o(),i("div",null,[t("span",Qt,w(e.label),1),t("label",Xt,[t("input",{id:e.id,name:e.id,type:"checkbox",checked:e.modelValue,onInput:n[0]||(n[0]=({target:l})=>s.$emit("update:modelValue",l.checked))},null,40,Zt),n[1]||(n[1]=t("span",{class:"slider"},null,-1))])]))}}),de=b(es,[["__scopeId","data-v-2d6bee53"]]),ts={class:"header"},ss={key:0},ns={key:1},os=["onClick"],ls={key:0},as={key:0,class:"icon icon-check"},is={key:1,class:"icon icon-replay"},rs=["src","alt"],us={key:0,class:"thumbnail-overlay"},cs={style:{"margin-right":"0.5rem"}},ds={class:"icon icon-check"},ps=I({__name:"BackModal",props:{isVisible:{type:Boolean,default:!1}},emits:["update:isVisible"],setup(e,{emit:s}){const n=O(),l=[...Array(n).keys()].filter(y=>!ot.includes(y)).slice(n-62).reverse(),a=_(rt().showThumbnail||!0),u=y=>{a.value=y,ct("showThumbnail",y)},r=s,v=()=>r("update:isVisible",!1),p=k(K),m=y=>y in p.value,h=y=>window.location.href=y?`/?day=${y}`:"/";return(y,M)=>(o(),P(q,{title:"Replay Previous Days","is-visible":e.isVisible,"onUpdate:isVisible":v},{default:N(()=>[t("div",null,[t("div",ts,[a.value?(o(),i("p",ns)):(o(),i("p",ss,"🏛: Historic Monuments")),g(de,{label:"Show Thumbnails","model-value":a.value,"onUpdate:modelValue":u},null,8,["model-value"])]),t("div",{class:D(["days",a.value?"image-grid":"text-grid"])},[t("div",{class:D(["day","clickable",a.value?"image-cell":"text-cell"]),onClick:M[0]||(M[0]=d=>h())},M[1]||(M[1]=[t("span",{class:"today"},"Today",-1)]),2),(o(!0),i(V,null,H(x(l),d=>(o(),i("div",{key:d,onClick:c=>h(d)},[a.value?(o(),i("div",{key:1,class:D(["day","image-cell",m(d)?"done":"clickable"])},[t("img",{class:"thumbnail",src:`${d}/0.jpg`,alt:`#${d}`},null,8,rs),m(d)?(o(),i("div",us,[t("span",cs,"#"+w(d),1),t("div",ds,[g(ce)])])):$("",!0)],2)):(o(),i("div",{key:0,class:D(["day","text-cell",m(d)?"done":"clickable"])},[t("div",null,[t("span",null,"#"+w(d),1),x(Et)(d)?(o(),i("span",ls," 🏛")):$("",!0)]),m(d)?(o(),i("div",as,[g(ce)])):(o(),i("div",is,[g(fe)]))],2))],8,os))),128))],2)])]),_:1},8,["is-visible"]))}}),ms=b(ps,[["__scopeId","data-v-a5e91b71"]]),vs={class:"input-row"},hs=I({__name:"UserModal",props:{isVisible:{type:Boolean,default:!1}},emits:["update:isVisible"],setup(e,{emit:s}){const n=_(he()?.email),l=s,a=()=>l("update:isVisible",!1),u=()=>{ht(),a(),window.location.reload()};return(r,v)=>(o(),P(q,{title:"Account","is-visible":e.isVisible,"onUpdate:isVisible":a},{default:N(()=>[v[3]||(v[3]=t("p",{class:"text-center"},"Your progress is saved on your logged devices!",-1)),t("div",vs,[v[2]||(v[2]=t("label",{for:"email"},"Email",-1)),U(t("input",{"onUpdate:modelValue":v[0]||(v[0]=p=>n.value=p),type:"text",id:"email",name:"email",disabled:""},null,512),[[R,n.value]])]),t("button",{class:"btn-secondary btn-small self-center",onClick:v[1]||(v[1]=p=>u())}," Logout ")]),_:1},8,["is-visible"]))}}),gs=b(hs,[["__scopeId","data-v-8e69f408"]]),fs={},ys={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"20",height:"20"};function ws(e,s){return o(),i("svg",ys,s[0]||(s[0]=[t("path",{d:"M256 340c-15.464 0-28 12.536-28 28s12.536 28 28 28 28-12.536 28-28-12.536-28-28-28zm7.67-24h-16c-6.627 0-12-5.373-12-12v-.381c0-70.343 77.44-63.619 77.44-107.408 0-20.016-17.761-40.211-57.44-40.211-29.144 0-44.265 9.649-59.211 28.692-3.908 4.98-11.054 5.995-16.248 2.376l-13.134-9.15c-5.625-3.919-6.86-11.771-2.645-17.177C185.658 133.514 210.842 116 255.67 116c52.32 0 97.44 29.751 97.44 80.211 0 67.414-77.44 63.849-77.44 107.408V304c0 6.627-5.373 12-12 12zM256 40c118.621 0 216 96.075 216 216 0 119.291-96.61 216-216 216-119.244 0-216-96.562-216-216 0-119.203 96.602-216 216-216m0-32C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8z"},null,-1)]))}const Ne=b(fs,[["render",ws]]),bs={},ks={xmlns:"http://www.w3.org/2000/svg",height:"20px",width:"20px",viewBox:"0 0 576 512"};function $s(e,s){return o(),i("svg",ks,s[0]||(s[0]=[t("path",{d:"M370.5 138.9l-50.2-7.3-22.5-45.5c-4-8.1-15.7-8.2-19.7 0l-22.5 45.5-50.2 7.3c-9 1.3-12.6 12.4-6.1 18.8l36.3 35.4-8.6 50c-1.5 8.9 7.9 15.8 16 11.6l44.9-23.6 44.9 23.6c8 4.2 17.5-2.6 16-11.6l-8.6-50 36.3-35.4c6.7-6.4 3-17.5-6-18.8zm-60.3 44.4l5.2 30.6-27.4-14.4-27.5 14.4 5.2-30.6-22.2-21.6 30.7-4.5 13.7-27.8 13.7 27.8 30.7 4.5-22.1 21.6zM448 64V12c0-6.6-5.4-12-12-12H140c-6.6 0-12 5.4-12 12v52H12C5.4 64 0 69.4 0 76v61.6C0 199.7 68.1 272 160.7 285.7c29.4 60.7 73.7 90.3 111.3 96.9V480h-86c-14.4 0-26 11.7-26 26.1 0 3.3 2.7 5.9 6 5.9h244c3.3 0 6-2.6 6-5.9 0-14.4-11.6-26.1-26-26.1h-86v-97.4c37.7-6.6 81.9-36.2 111.3-96.9C508 272 576 199.6 576 137.6V76c0-6.6-5.4-12-12-12H448zM32 137.6V96h96v24c0 51.8 7 94.9 18.5 130.2C77.9 232.5 32 178 32 137.6zM288 352c-72 0-128-104-128-232V32h256v88c0 128-56 232-128 232zm256-214.4c0 40.4-46 94.9-114.5 112.6C441 214.9 448 171.8 448 120V96h96v41.6z"},null,-1)]))}const Y=b(bs,[["render",$s]]),_s={class:"column"},Ss={class:"text-center"},Ms={key:0,class:"rank"},xs={key:1},Cs=I({__name:"ScoreModal",props:{isVisible:{type:Boolean,default:!1}},emits:["update:isVisible"],setup(e,{emit:s}){const n=_(!1),l=_(),a=k(ge),u=s,r=()=>u("update:isVisible",!1);return(v,p)=>(o(),P(q,{title:"Score","is-visible":e.isVisible,"onUpdate:isVisible":r},{default:N(()=>[t("div",_s,[t("div",Ss,[t("h1",null,w(a.value),1),t("h3",null,"Daily Challenges: "+w(x(Ve)()),1),t("h3",null,"Theme Challenges: "+w(x(Ae)()),1)]),l.value?(o(),i("div",Ms,p[1]||(p[1]=[t("h3",null,[f("You’re ranked "),t("b",null,"1th")],-1)]))):$("",!0),t("a",{class:"text-center",onClick:p[0]||(p[0]=m=>n.value=!0)},[g(Ne),p[2]||(p[2]=f()),p[3]||(p[3]=t("span",null," How are points counted ?",-1))]),n.value?(o(),i("ul",xs,[p[6]||(p[6]=t("li",null," Each daily challenge is 1 point, up to 7 (when found in 1 guess) ",-1)),t("li",null,[p[4]||(p[4]=f(" 50 points for the first level of a theme challenge ",-1)),g(Y),p[5]||(p[5]=f(", ",-1))]),p[7]||(p[7]=t("li",null,"100 points for the second level,",-1)),p[8]||(p[8]=t("li",null,"150 points for the third level, etc…",-1)),p[9]||(p[9]=t("li",null,"50 bonus points when you’re signed in",-1))])):$("",!0)])]),_:1},8,["is-visible"]))}}),Is=b(Cs,[["__scopeId","data-v-23de1aeb"]]),Ls=async e=>{if(e.includes("wikipedia.org/wiki/")){const s=e.slice(30),n=e.slice(0,24),l=await fetch(`${n}/w/api.php?origin=*&format=json&action=query&prop=extracts&exintro&explaintext&redirects=1&titles=${s}`);if(l.ok){const{query:{pages:a}}=await l.json();for(const u in a)return a[u].extract.replace(`
`,"<br />")}}return""},B=e=>{try{cabin.event(e)}catch(s){console.log(s)}},Vs="https://stats.archiguesser.com/",Ee=e=>{const{firstPlayed:s,lastPlayed:n,...l}=e;return{start_day:s,last_day:n,stats_days:Object.keys(l).map(a=>parseInt(a)),stats_scores:Object.values(l)}},Q=(e,s)=>fetch(Vs+e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:ze(),...he(),...s})}),As=async(e,s,n,l)=>{try{const a=await Q("result",{day:e,score:s,guesses:n,...Ee(l)});return s===0?void 0:await a.json()}catch{return}},js=async(e,s,n,l,a)=>{try{const{retryCount:u,dayNumber:r,...v}=a;await Q("challenge",{day:r,score:e,level:s,category:n,failed_on:l,retry_count:u,challenges:JSON.stringify(v)})}catch(u){console.log(u)}},Ps=async e=>{try{await Q("feedback",e)}catch(s){console.error(s),B("feedback: "+e.project)}},zs=async()=>{if(localStorage.getItem("tag")!=="ok")try{await Q("tag-feedbacks",{values:je()}),localStorage.setItem("tag","ok")}catch(e){console.error(e)}},De=async(e,s,n,l)=>{try{const a=await Q("user",{email:e,password:s,challenges:JSON.stringify(l),...Ee(n)});return a.status==200?a.json():a.status==201?{isCreated:!0}:{output:await a.text()}}catch(a){return{output:a}}},Oe=e=>{e.stats&&pt(e.stats,{firstPlayed:e.start_day,lastPlayed:e.last_day}),e.challenges&&mt(e.challenges)},Ue=async()=>{if(T()){const{email:e,password:s}=he(),n=await De(e,s,K(),W());Oe(n)}},Hs={key:0,class:"column"},Ts={key:1},Bs={class:"input-row"},Ns={class:"input-row"},Es={key:0,class:"error-message"},Ds=["disabled"],Os=I({__name:"LogInModal",props:{isVisible:{type:Boolean,default:!1}},emits:["update:isVisible"],setup(e,{emit:s}){const n=s,l=()=>n("update:isVisible",!1),a=()=>{l(),window.location.reload()},u=_(""),r=_(""),v=_(""),p=_(!1),m=_(!1),h=k(()=>/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/.test(u.value)),y=k(()=>r.value.length>7),M=async()=>{p.value=!0;const d=u.value.toLowerCase(),c=K(),S=W(),L=await De(d,r.value,c,S);"output"in L?v.value=L.output:(vt(d,r.value),L.isCreated?m.value=!0:(Oe(L),a())),p.value=!1};return(d,c)=>(o(),P(q,{title:"Sign In","is-visible":e.isVisible,"onUpdate:isVisible":l},{default:N(()=>[m.value?(o(),i("div",Hs,[c[2]||(c[2]=t("p",null,"Your account has been created!",-1)),t("button",{class:"btn-primary btn-small",onClick:a}," Got it! ")])):(o(),i("div",Ts,[t("p",null,[c[3]||(c[3]=f(" Save your progress across all your devices with a ",-1)),c[4]||(c[4]=t("b",null,"free account",-1)),c[5]||(c[5]=f(", it takes only seconds to create!",-1)),c[6]||(c[6]=t("br",null,null,-1)),c[7]||(c[7]=f(" Also you will have ",-1)),t("b",null,w(x(ie))+" daily retries",1),c[8]||(c[8]=f(" for challenges and earn points for the (future) scoreboard! ",-1))]),t("form",{class:"column",onSubmit:_e(M,["prevent"])},[t("div",Bs,[c[9]||(c[9]=t("label",{for:"email"},"Email",-1)),U(t("input",{"onUpdate:modelValue":c[0]||(c[0]=S=>u.value=S),type:"email",id:"email",placeholder:"ludwig@mvdr.com"},null,512),[[R,u.value]])]),t("div",Ns,[c[10]||(c[10]=t("label",{for:"password"},"Password",-1)),U(t("input",{"onUpdate:modelValue":c[1]||(c[1]=S=>r.value=S),type:"password",id:"password",placeholder:"Password (min 8 characters)"},null,512),[[R,r.value]])]),v.value?(o(),i("p",Es,w(v.value),1)):$("",!0),t("button",{class:"btn-primary btn-small",disabled:!h.value||!y.value||p.value},w(p.value?"Please Wait…":"Sign In/Sign Up"),9,Ds)],32)]))]),_:1},8,["is-visible"]))}}),Us=b(Os,[["__scopeId","data-v-42354632"]]),Rs={},Gs={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:"20",height:"20"};function Fs(e,s){return o(),i("svg",Gs,s[0]||(s[0]=[t("path",{d:"M400 224h-16v-62.5C384 73.1 312.9 .3 224.5 0 136-.3 64 71.6 64 160v64H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zM96 160c0-70.6 57.4-128 128-128s128 57.4 128 128v64H96v-64zm304 320H48c-8.8 0-16-7.2-16-16V272c0-8.8 7.2-16 16-16h352c8.8 0 16 7.2 16 16v192c0 8.8-7.2 16-16 16z"},null,-1)]))}const qs=b(Rs,[["render",Fs]]),Ws={},Ys={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",width:"20",height:"20"};function Js(e,s){return o(),i("svg",Ys,s[0]||(s[0]=[t("path",{d:"M480.5 0C392-.3 320 71.6 320 160v64H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48h-48v-62.6c0-70.7 56.7-129 127.3-129.4C550.2 31.6 608 89.2 608 160v84c0 6.6 5.4 12 12 12h8c6.6 0 12-5.4 12-12v-82.5C640 73.1 568.9 .3 480.5 0zM400 256c8.8 0 16 7.2 16 16v192c0 8.8-7.2 16-16 16H48c-8.8 0-16-7.2-16-16V272c0-8.8 7.2-16 16-16h352z"},null,-1)]))}const Ks=b(Ws,[["render",Js]]),Qs={class:"header"},Xs={class:"image-grid"},Zs=["onClick"],en={class:"image-cell clickable"},tn=["src","alt"],sn={class:"thumbnail-overlay"},nn={key:0},on={class:"category"},ln={class:"level"},an=I({__name:"ArcadeModal",props:{isVisible:{type:Boolean,default:!1}},emits:["update:isVisible","showLogInModal"],setup(e,{emit:s}){const n=[...Ce,...re],l=_(n.reduce((h,y)=>({...h,[y]:""}),{})),a=s,u=()=>a("update:isVisible",!1),r=h=>re.includes(h),v=h=>{r(h)&&!T()?(l.value[h]!==""&&(u(),a("showLogInModal")),l.value[h]="You must be signed in to play this challenge (click again to sign in)",setTimeout(()=>{l.value[h]=""},1e4)):window.location.href=`/?challenge=${h}`},p=h=>W()[h]||0,m=h=>Math.min(xe,Math.floor(Te(h).length/ae));return(h,y)=>(o(),P(q,{title:"Projects By Theme","is-visible":e.isVisible,"onUpdate:isVisible":u},{default:N(()=>[t("div",null,[t("div",Qs,[y[1]||(y[1]=t("p",null," Select a theme, you will have a series of random projects to guess with only one image per project, so no error is allowed! ",-1)),t("p",null,[y[0]||(y[0]=f(" If you succeed, you will win a trophy and level up! ",-1)),g(Y)])]),t("div",Xs,[(o(),i(V,null,H(n,(M,d)=>t("div",{key:M,onClick:c=>v(M)},[t("div",en,[t("img",{class:"thumbnail",src:`categories/${M}.jpg`,alt:`#${d}`},null,8,tn),t("div",sn,[l.value[M]!==""?(o(),i("span",nn,w(l.value[M]),1)):(o(),i(V,{key:1},[t("span",on,w(Qe(M)),1),t("span",ln,[g(Y),f(" "+w(p(M))+"/"+w(m(M)),1)]),r(M)?(o(),i(V,{key:0},[x(T)()?(o(),P(Ks,{key:1})):(o(),P(qs,{key:0}))],64)):$("",!0)],64))])])],8,Zs)),64))])])]),_:1},8,["is-visible"]))}}),rn=b(an,[["__scopeId","data-v-5ae9755a"]]),un={class:"input-wrap"},cn={class:"input-wrap-line"},dn={class:"input-wrap-line"},pn={key:0,class:"input-wrap"},mn={class:"input-wrap"},vn={key:1,class:"input-wrap"},hn=["disabled"],gn=I({__name:"FeedbackForm",emits:["submitted"],setup(e,{emit:s}){const n=_(!1),l=le({...ut(),link:"",project:"",is_involved:!1}),a=s,u=async()=>{n.value=!0,dt(l),await Ps(l),Pe(l.project),a("submitted"),n.value=!1},r=k(()=>l.project.length>3),v=je().length>0;return(p,m)=>(o(),i("form",null,[t("div",un,[m[6]||(m[6]=t("label",{for:"project"}," You get to write down a project you would like to see on ArchiGuesser:",-1)),U(t("input",{id:"project",name:"project",type:"text",placeholder:"Example: The leaning tower of Pisa…","onUpdate:modelValue":m[0]||(m[0]=h=>l.project=h)},null,512),[[R,l.project]])]),r.value||v?(o(),i(V,{key:0},[t("div",cn,[m[7]||(m[7]=t("label",{for:"is-involved"}," Were you involved in this project or worked for the studio that carried out this project? ",-1)),g(de,{id:"is-involved",modelValue:l.is_involved,"onUpdate:modelValue":m[1]||(m[1]=h=>l.is_involved=h)},null,8,["modelValue"])]),t("div",dn,[m[8]||(m[8]=t("label",{for:"want-credit"},"Would you like to be credited for this suggestion?",-1)),g(de,{id:"want-credit",modelValue:l.want_credit,"onUpdate:modelValue":m[2]||(m[2]=h=>l.want_credit=h)},null,8,["modelValue"])]),l.want_credit?(o(),i("div",pn,[m[9]||(m[9]=t("label",{for:"public-name"},"On which name would you like to be credited?",-1)),U(t("input",{id:"public-name",name:"public-name",type:"text",placeholder:"Le Corbusier (Ateliers Jean Prouvé)","onUpdate:modelValue":m[3]||(m[3]=h=>l.credit_name=h)},null,512),[[R,l.credit_name]])])):$("",!0),t("div",mn,[m[10]||(m[10]=t("label",{for:"link"},"(Optional) A Wikipedia link or an Architecture website (ArchDaily, wikiarquitectura, …) of the project: ",-1)),U(t("input",{id:"link",name:"link",type:"text",placeholder:"https://en.wikipedia.org/wiki/Leaning_Tower_of_Pisa","onUpdate:modelValue":m[4]||(m[4]=h=>l.link=h)},null,512),[[R,l.link]])]),x(T)()?$("",!0):(o(),i("div",vn,[m[11]||(m[11]=t("label",{for:"email"},"(Optional) Would you like to be contacted if additional information is required regarding your suggestion?",-1)),U(t("input",{id:"email",name:"email",type:"email",placeholder:"Email address","onUpdate:modelValue":m[5]||(m[5]=h=>l.email=h)},null,512),[[R,l.email]])]))],64)):$("",!0),t("button",{class:"btn-primary btn-small",type:"submit",onMousedown:u,disabled:n.value||!r.value}," Submit ",40,hn)]))}}),fn=b(gn,[["__scopeId","data-v-1f435e8a"]]),yn={key:0},wn={class:"text-center"},bn={key:0},kn={key:1},$n={key:1,class:"text-center"},_n=I({__name:"FeedbackModal",props:{isVisible:{type:Boolean,default:!1}},emits:["update:isVisible"],setup(e,{emit:s}){const n=s,l=()=>{n("update:isVisible",!1)},a=p=>{Pe(p),B("feedback: "+(p||"skipped")),l()},u=_(!1),r=()=>{u.value=!0,setTimeout(l,2e3)},v=k(()=>ue()?.value==="skipped");return(p,m)=>(o(),P(q,{title:"Well done! 🎉","is-visible":e.isVisible,"onUpdate:isVisible":m[2]||(m[2]=()=>a())},Se({default:N(()=>[u.value?(o(),i("p",$n,"Thank you for your suggestion!")):(o(),i("div",yn,[t("p",wn,[m[3]||(m[3]=f(" Thank you for playing today’s ArchiGuesser!",-1)),m[4]||(m[4]=t("br",null,null,-1)),!x(ue)()||v.value?(o(),i("span",bn," You’re one of our best players. 🏆 ")):(o(),i("span",kn,"Your last suggestion was greatly appreciated!")),m[5]||(m[5]=t("br",null,null,-1)),m[6]||(m[6]=t("br",null,null,-1))]),g(fn,{onSubmitted:r,class:"mt-1"})]))]),_:2},[u.value?void 0:{name:"footer",fn:N(()=>[v.value?(o(),i("button",{key:0,class:"btn-secondary",onClick:m[0]||(m[0]=()=>a("never"))}," Don’t ask me again ")):$("",!0),t("button",{class:"btn-secondary",onClick:m[1]||(m[1]=()=>a())}," Maybe later ")]),key:"0"}]),1032,["is-visible"]))}}),Sn=b(_n,[["__scopeId","data-v-336617ae"]]),Mn={},xn={xmlns:"http://www.w3.org/2000/svg",height:"20px",width:"20px",viewBox:"0 0 496 512"};function Cn(e,s){return o(),i("svg",xn,s[0]||(s[0]=[t("path",{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm128 421.6c-35.9 26.5-80.1 42.4-128 42.4s-92.1-15.9-128-42.4V416c0-35.3 28.7-64 64-64 11.1 0 27.5 11.4 64 11.4 36.6 0 52.8-11.4 64-11.4 35.3 0 64 28.7 64 64v13.6zm30.6-27.5c-6.8-46.4-46.3-82.1-94.6-82.1-20.5 0-30.4 11.4-64 11.4S204.6 320 184 320c-48.3 0-87.8 35.7-94.6 82.1C53.9 363.6 32 312.4 32 256c0-119.1 96.9-216 216-216s216 96.9 216 216c0 56.4-21.9 107.6-57.4 146.1zM248 120c-48.6 0-88 39.4-88 88s39.4 88 88 88 88-39.4 88-88-39.4-88-88-88zm0 144c-30.9 0-56-25.1-56-56s25.1-56 56-56 56 25.1 56 56-25.1 56-56 56z"},null,-1)]))}const In=b(Mn,[["render",Cn]]),Ln={},Vn={xmlns:"http://www.w3.org/2000/svg",height:"20",width:"20",viewBox:"0 0 512 512"};function An(e,s){return o(),i("svg",Vn,s[0]||(s[0]=[t("path",{d:"M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.84a154.82 154.82 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.3 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.73 6.13-3.2 11.72 2.62 15.94 7.71 4.69 20.39 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM12.1 320H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.33c3.28-10.29 48.33-18.68 48.33-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.45 18.75-4.38 5.59-3 10.84 2.79 15.37l8.58 6.88c5.61 4.56 11 2.47 16.13-2.44a13.4 13.4 0 0 1 9.45-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.1 320zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm488-80H168a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h336a8 8 0 0 0 8-8V88a8 8 0 0 0-8-8zm0 320H168a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h336a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8zm0-160H168a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h336a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8z"},null,-1)]))}const Re=b(Ln,[["render",An]]),jn={class:"nav-bar"},Pn={class:"nav-right"},zn=I({__name:"HeaderNavigator",emits:["showArcadeModal","showBackModal","showInfoModal","showUserModal","showScoreModal"],setup(e){return(s,n)=>(o(),i("header",null,[t("div",jn,[n[5]||(n[5]=t("div",{class:"nav-left"},[t("a",{href:"/",id:"brand","aria-label":"Back to the daily challenge"}," ArchiGuesser ")],-1)),t("div",Pn,[t("a",{onClick:n[0]||(n[0]=l=>s.$emit("showBackModal")),href:"#replay","aria-label":"Replay previous days"},[g(fe)]),t("a",{onClick:n[1]||(n[1]=l=>s.$emit("showArcadeModal")),href:"#challenges","aria-label":"Play themed challenges"},[g(Y)]),t("a",{onClick:n[2]||(n[2]=l=>s.$emit("showScoreModal")),href:"#score","aria-label":"Show your score"},[g(Re)]),t("a",{onClick:n[3]||(n[3]=l=>s.$emit("showUserModal")),href:"#login","aria-label":"LogIn to your account or show informations if you’re already connected"},[g(In)]),t("a",{onClick:n[4]||(n[4]=l=>s.$emit("showInfoModal")),href:"#info","aria-label":"Show informations about ArchiGuesser"},[g(Ne)])])])]))}}),Hn=b(zn,[["__scopeId","data-v-ce3bd01f"]]),Tn={},Bn={xmlns:"http://www.w3.org/2000/svg",height:"20px",width:"20px",viewBox:"0 0 448 512"};function Nn(e,s){return o(),i("svg",Bn,s[0]||(s[0]=[t("path",{d:"M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM352 32.491a15.88 15.88 0 0 1 7.431 4.195l51.882 51.883A15.885 15.885 0 0 1 415.508 96H352V32.491zM288 464c0 8.822-7.178 16-16 16H48c-8.822 0-16-7.178-16-16V144c0-8.822 7.178-16 16-16h80v240c0 26.51 21.49 48 48 48h112v48zm128-96c0 8.822-7.178 16-16 16H176c-8.822 0-16-7.178-16-16V48c0-8.822 7.178-16 16-16h144v72c0 13.2 10.8 24 24 24h72v240z"},null,-1)]))}const En=b(Tn,[["render",Nn]]),Dn={},On={xmlns:"http://www.w3.org/2000/svg",height:"20px",width:"20px",viewBox:"0 0 640 512"};function Un(e,s){return o(),i("svg",On,s[0]||(s[0]=[t("path",{d:"M640 51.2l-.3 12.2c-28.1.8-45 15.8-55.8 40.3-25 57.8-103.3 240-155.3 358.6H415l-81.9-193.1c-32.5 63.6-68.3 130-99.2 193.1-.3.3-15 0-15-.3C172 352.3 122.8 243.4 75.8 133.4 64.4 106.7 26.4 63.4.2 63.7c0-3.1-.3-10-.3-14.2h161.9v13.9c-19.2 1.1-52.8 13.3-43.3 34.2 21.9 49.7 103.6 240.3 125.6 288.6 15-29.7 57.8-109.2 75.3-142.8-13.9-28.3-58.6-133.9-72.8-160-9.7-17.8-36.1-19.4-55.8-19.7V49.8l142.5.3v13.1c-19.4.6-38.1 7.8-29.4 26.1 18.9 40 30.6 68.1 48.1 104.7 5.6-10.8 34.7-69.4 48.1-100.8 8.9-20.6-3.9-28.6-38.6-29.4.3-3.6 0-10.3.3-13.6 44.4-.3 111.1-.3 123.1-.6v13.6c-22.5.8-45.8 12.8-58.1 31.7l-59.2 122.8c6.4 16.1 63.3 142.8 69.2 156.7L559.2 91.8c-8.6-23.1-36.4-28.1-47.2-28.3V49.6l127.8 1.1.2.5z"},null,-1)]))}const Ge=b(Dn,[["render",Un]]),Rn={},Gn={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",height:"20",width:"20"};function Fn(e,s){return o(),i("svg",Gn,s[0]||(s[0]=[t("path",{d:"M193.94 256L296.5 153.44l21.15-21.15c3.12-3.12 3.12-8.19 0-11.31l-22.63-22.63c-3.12-3.12-8.19-3.12-11.31 0L160 222.06 36.29 98.34c-3.12-3.12-8.19-3.12-11.31 0L2.34 120.97c-3.12 3.12-3.12 8.19 0 11.31L126.06 256 2.34 379.71c-3.12 3.12-3.12 8.19 0 11.31l22.63 22.63c3.12 3.12 8.19 3.12 11.31 0L160 289.94 262.56 392.5l21.15 21.15c3.12 3.12 8.19 3.12 11.31 0l22.63-22.63c3.12-3.12 3.12-8.19 0-11.31L193.94 256z"},null,-1)]))}const Fe=b(Rn,[["render",Fn]]),qn=["href"],Wn=["src"],Yn=["src"],Jn=I({__name:"RecommendationLink",props:{recommendation:{type:String,default:""}},setup(e){const s=e,n=k(()=>{if(s.recommendation in te){const l=/offerid=(\d+.\d+)/.exec(te[s.recommendation].link),a=l.length>1?l[1]:null;return{name:s.recommendation,picture:s.recommendation.toLowerCase()+".jpg",bids:a,...te[s.recommendation]}}return null});return(l,a)=>n.value?(o(),i("a",{key:0,href:n.value.link,rel:"sponsored",target:"_blank",onClick:a[0]||(a[0]=u=>x(B)("Recommendation: "+n.value.name))},[a[1]||(a[1]=t("p",{style:{"text-align":"center"}},"Today’s reading",-1)),t("img",{src:"recommendations/"+n.value.picture,height:"200px"},null,8,Wn),n.value.bids?(o(),i("img",{key:0,border:"0",width:"1",height:"1",src:`https://ad.linksynergy.com/fs-bin/show?id=F0FMjO8yDu0&bids=${n.value.bids}&type=2&subid=0`},null,8,Yn)):$("",!0)],8,qn)):$("",!0)}}),Kn={class:"column end-display"},Qn={class:"result"},Xn={key:0},Zn={key:1},eo={class:"answer"},to={key:2,class:"emphasis"},so=["innerHTML"],no={class:"column-stretch"},oo={key:0,class:"history"},lo={class:"history-icon"},ao={key:0,style:{"text-align":"center"}},io={class:"row"},ro={class:"column-stretch"},uo={class:"extra"},co={key:0},po=["href"],mo={key:1},vo=["innerHTML"],ho={key:1,class:"text-center"},go=I({__name:"EndDisplay",props:{hasWon:{type:Boolean,required:!0},guesses:{type:Array,required:!0},percent:{type:Number,required:!1},project:{type:Object,required:!0}},setup(e){const s=_(""),n=_(!1),l=_("SHARE"),a=_(!1),u=()=>{B("Show Guesses"),n.value=!n.value},r=e,v=k(()=>r.project.categories.includes("community")),p=k(()=>{const d='<span class="square red">🟥</span> '.repeat(r.guesses.length-1),c='<span class="square black">⬛</span> '.repeat(6-r.guesses.length),S=r.hasWon?'<span class="square green">🟩</span> ':'<span class="square red">🟥</span> ';return`${d+S+c}`}),m=k(()=>`${st} #${r.project.dayNumber}
🏛 ${document.getElementById("share-message")?.textContent||""}

${nt}/?day=${r.project.dayNumber}`),h=async()=>{const d=m.value;try{await navigator.clipboard.writeText(d)}catch{console.log("fallback copy");const c=document.createElement("textarea");c.textContent=d,document.body.append(c),c.select(),document.execCommand("copy"),c.remove()}finally{l.value="COPIED!",setTimeout(()=>{l.value="SHARE"},2e3),B("Shared")}},y=d=>{B("Vote "+r.project.dayNumber+" : "+d),a.value=!0},M=()=>{window.open(r.project.links[0],"_blank")?.focus(),B("Learn")};return Me(async()=>{r.project.links.length>0&&(s.value=await Ls(r.project.links[0]))}),(d,c)=>(o(),i("div",Kn,[t("div",Qn,[e.hasWon?(o(),i("h2",Xn,"You got it! 🎉")):(o(),i("h2",Zn,[c[3]||(c[3]=f(" The answer was: ",-1)),t("span",eo,w(e.project.answer),1)])),e.percent&&e.percent<50?(o(),i("div",to," 🥇 Only "+w(e.percent)+"% found it in "+w(e.guesses.length)+" tries or less! Well done! 👏 ",1)):$("",!0)]),t("div",{id:"share-message",innerHTML:p.value},null,8,so),t("div",no,[t("a",{class:"text-small text-center",href:"#",onClick:u},w(n.value?"Hide":"Show")+" Guesses ",1),n.value?(o(),i("div",oo,[(o(!0),i(V,null,H(e.guesses,(S,L)=>(o(),i("div",{key:S,class:"history-row"},[t("span",lo,[L===e.guesses.length-1&&e.hasWon?(o(),P(ce,{key:0})):(o(),P(Fe,{key:1}))]),t("span",null,w(S||"…"),1)]))),128))])):$("",!0)]),e.project["hors-serie"]?(o(),i("p",ao,[a.value?(o(),i(V,{key:1},[f(" Thank you for your feedback! ")],64)):(o(),i(V,{key:0},[c[4]||(c[4]=t("b",null,[f("Did you enjoy this "),t("i",null,"Hors-Série"),f("?"),t("br")],-1)),t("a",{onClick:c[0]||(c[0]=S=>y("yes"))},"Yes, I want to play more of these!"),c[5]||(c[5]=t("br",null,null,-1)),t("a",{onClick:c[1]||(c[1]=S=>y("no"))},"No, I prefer the daily challenge")],64))])):$("",!0),t("div",io,[t("button",{class:"btn-primary",onClick:h},[t("span",null,w(l.value),1),g(En,{style:{fill:"white"}})]),c[8]||(c[8]=t("div",{class:"separator"},null,-1)),t("div",ro,[e.project.links.length>0?(o(),i("button",{key:0,class:"btn-secondary",onClick:M},[c[6]||(c[6]=t("span",null,"Learn more about it",-1)),g(Ge)])):$("",!0),t("button",{class:"btn-secondary",onClick:c[2]||(c[2]=S=>d.$emit("showBackModal"))},[c[7]||(c[7]=t("span",null,"Try another one!",-1)),g(fe)])])]),t("div",uo,[e.project["hors-serie"]&&e.project.features?(o(),i("p",co,[c[11]||(c[11]=f(" Featured projects :",-1)),c[12]||(c[12]=t("br",null,null,-1)),(o(!0),i(V,null,H(e.project.features,(S,L)=>(o(),i("span",{key:L},[f(w(L)+". ",1),S.link?(o(),i("a",{key:0,href:S.link,target:"_blank"},w(S.title),9,po)):(o(),i("span",mo,w(S.title),1)),c[9]||(c[9]=f()),c[10]||(c[10]=t("br",null,null,-1))]))),128))])):s.value?(o(),i("p",{key:1,class:"description border",innerHTML:s.value},null,8,vo)):$("",!0),g(Jn,{recommendation:e.project.recommendation},null,8,["recommendation"])]),v.value?(o(),i("p",ho," This project has been brought to you by "+w(e.project.credits?e.project.credits+", an":"one of")+" ArchiGuesser’s players. Thank you 👏 ",1)):$("",!0),c[14]||(c[14]=t("div",null,[t("span",null,[f("Next challenge "),t("b",{class:"emphasis"},"tomorrow"),f("! 🕛")])],-1)),$("",!0)]))}}),fo=b(go,[["__scopeId","data-v-a999ab23"]]),ne=G.map(({answer:e})=>e).concat(tt),yo=()=>{const{["hors-serie"]:e}=Be();return e==="City"?[...new Set(ne.map(s=>{const n=s.split("/").pop()?.trim();if(n){const l=n.split(", ");if(l.length>1)return l[l.length-2]+", "+l[l.length-1]}return""}))]:e==="Architect"?[...new Set(ne.flatMap(s=>{const n=s.split("/");return n.length>2?n[1].trim().split(", ").map(l=>l.trim()):[]}))]:ne},wo=yo(),ke=30,bo=2,ko=(e,s)=>s.score-e.score,$o=e=>e.length>0?e[e.length-1].score:0,qe=e=>e.toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").replace("ø","o").replace("-"," ").replace("+"," ").replace(/’|'/,"").replace(/\(|\)|\]|\[/g,""),We=e=>e.split(/\s+|,|\//).filter(s=>s.length>=bo),$e=e=>[...new Set(e)],_o=e=>(s,n)=>{const l=qe(n),a=$e(e.filter(r=>l.includes(r))),u=a.length;if(u>0){const r=$e(We(l).filter(p=>a.includes(p))),v=u+r.length;if(s.length<ke||v>$o(s)){const p=n.replace(new RegExp(`(${e.join("|")})`,"gi"),"<mark>$1</mark>");return[...s.slice(0,ke),{suggestion:n,highlightedSuggestion:p,score:v}].sort(ko)}}return s},Ye=(e,s=wo)=>{const n=We(qe(e));return s.reduce(_o(n),[])},So={},Mo={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"20",height:"20"};function xo(e,s){return o(),i("svg",Mo,s[0]||(s[0]=[t("path",{d:"M508.5 481.6l-129-129c-2.3-2.3-5.3-3.5-8.5-3.5h-10.3C395 312 416 262.5 416 208 416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c54.5 0 104-21 141.1-55.2V371c0 3.2 1.3 6.2 3.5 8.5l129 129c4.7 4.7 12.3 4.7 17 0l9.9-9.9c4.7-4.7 4.7-12.3 0-17zM208 384c-97.3 0-176-78.7-176-176S110.7 32 208 32s176 78.7 176 176-78.7 176-176 176z"},null,-1)]))}const Co=b(So,[["render",xo]]),Io={},Lo={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",width:"20",height:"20"};function Vo(e,s){return o(),i("svg",Lo,s[0]||(s[0]=[t("path",{d:"M469.66 181.65l-11.31-11.31c-3.12-3.12-8.19-3.12-11.31 0L384 233.37l-63.03-63.03c-3.12-3.12-8.19-3.12-11.31 0l-11.31 11.31c-3.12 3.12-3.12 8.19 0 11.31L361.38 256l-63.03 63.03c-3.12 3.12-3.12 8.19 0 11.31l11.31 11.31c3.12 3.12 8.19 3.12 11.31 0L384 278.63l63.03 63.03c3.12 3.12 8.19 3.12 11.31 0l11.31-11.31c3.12-3.12 3.12-8.19 0-11.31L406.63 256l63.03-63.03a8.015 8.015 0 0 0 0-11.32zM576 64H205.26C188.28 64 172 70.74 160 82.74L9.37 233.37c-12.5 12.5-12.5 32.76 0 45.25L160 429.25c12 12 28.28 18.75 45.25 18.75H576c35.35 0 64-28.65 64-64V128c0-35.35-28.65-64-64-64zm32 320c0 17.64-14.36 32-32 32H205.26c-8.55 0-16.58-3.33-22.63-9.37L32 256l150.63-150.63c6.04-6.04 14.08-9.37 22.63-9.37H576c17.64 0 32 14.36 32 32v256z"},null,-1)]))}const Ao=b(Io,[["render",Vo]]),jo={key:0,class:"suggestions"},Po=["onClick","onMouseover"],zo=["innerHTML"],Ho={class:"input-row"},To={class:"input-wrap"},Bo={class:"icon icon-search"},No=["placeholder"],Eo=["disabled"],Do=I({__name:"GuessingForm",props:{placeholder:{type:String}},emits:["submitted-guess"],setup(e,{emit:s}){const n=_(""),l=_(!1),a=_(),u=_([]),r=e,v=k(()=>r.placeholder==="City"?"Search for city…":r.placeholder==="Architect"?"Search for an architect…":"Search for building name / architect / place…"),p=k(()=>Ye(n.value)),m=k(()=>l.value||n.value.length===0),h=()=>{l.value=!1,n.value=""},y=()=>{l.value=!1,a.value=null,S("up")},M=L=>{n.value=L,l.value=!0},d=s,c=()=>{m.value?(d("submitted-guess",n.value),h()):a.value!=null&&M(p.value[a.value].suggestion)},S=L=>{p.value.length!==0&&(a.value==null?a.value=0:L==="up"?a.value===0?a.value=p.value.length-1:a.value--:a.value=(a.value+1)%p.value.length,u.value[a.value]?.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}))};return(L,j)=>(o(),i("div",null,[!l.value&&p.value.length?(o(),i("ul",jo,[(o(!0),i(V,null,H(p.value,(A,z)=>(o(),i("li",{key:z,ref_for:!0,ref_key:"suggestionsRefs",ref:u,class:D({"is-focus":a.value===z}),onClick:ye=>M(A.suggestion),onMouseover:()=>a.value=z},[t("span",{innerHTML:A.highlightedSuggestion},null,8,zo)],42,Po))),128))])):$("",!0),t("div",Ho,[t("div",To,[t("span",Bo,[g(Co)]),U(t("input",{type:"text",class:D(`search-input ${n.value.length?"is-not-empty":""}`),placeholder:v.value,autocomplete:"off","onUpdate:modelValue":j[0]||(j[0]=A=>n.value=A),onInput:y,onKeyup:[ee(c,["enter"]),j[1]||(j[1]=ee(A=>S("up"),["up"])),j[2]||(j[2]=ee(A=>S("down"),["down"]))]},null,42,No),[[R,n.value]]),n.value?(o(),i("span",{key:0,class:"icon icon-times",onClick:h},[g(Ao)])):$("",!0)]),t("button",{class:"btn-primary btn-small",type:"submit",disabled:!m.value,onMousedown:c},w(n.value===""?"SKIP":"SUBMIT"),41,Eo)])]))}}),Oo=b(Do,[["__scopeId","data-v-3e6146bd"]]),Uo={class:"paginator"},Ro=["onMousedown"],Go=I({__name:"PicturePaginator",props:{currentRound:{type:Number,required:!0},pictureShown:{type:Number,required:!0}},emits:["update:pictureShown"],setup(e,{emit:s}){const n=e,l=s,a=r=>l("update:pictureShown",r),u=r=>{r.key==="ArrowLeft"&&n.pictureShown>1?a(n.pictureShown-1):r.key==="ArrowRight"&&n.pictureShown<n.currentRound&&a(n.pictureShown+1)};return Me(()=>{window.addEventListener("keydown",u)}),Xe(()=>{window.removeEventListener("keydown",u)}),(r,v)=>(o(),i("div",Uo,[(o(!0),i(V,null,H(e.currentRound,p=>(o(),i("button",{key:p,class:D({"btn-primary":p===e.pictureShown}),onMousedown:m=>a(p)},w(p),43,Ro))),128))]))}}),Fo=b(Go,[["__scopeId","data-v-26d80a36"]]),qo=["alt","src"],Wo=["href"],Yo={class:"text-center text-small"},Jo={key:0},Ko={key:1},Qo=I({__name:"PictureDisplay",props:{maxPictures:{type:Number,default:1},dayNumber:{type:Number,required:!0},copyrights:{type:Object,required:!0},onlyLastPicture:{type:Boolean,default:!1}},setup(e){const s=e,n=_(s.onlyLastPicture?6:1);Ze(()=>s.maxPictures,()=>{n.value=s.maxPictures});const l=k(()=>s.copyrights[n.value]||s.copyrights["*"]||""),a=u=>`${s.dayNumber}/${u}.jpg`;return(u,r)=>(o(),i("div",null,[(o(),i("img",{alt:`Picture ${n.value} is loading…`,class:"picture",src:a(n.value),key:n.value},null,8,qo)),n.value<6?(o(),i("link",{key:0,rel:"prefetch",as:"image",type:"image/jpeg",href:a(n.value+1)},null,8,Wo)):$("",!0),t("div",Yo,[[666,911].includes(u.$props.dayNumber)?(o(),i("span",Jo," #"+w(s.dayNumber)+"  ",1)):$("",!0),l.value?(o(),i("span",Ko,"📷")):$("",!0),f(" "+w(l.value),1)]),e.onlyLastPicture?$("",!0):(o(),P(Fo,{key:1,"current-round":e.maxPictures,"picture-shown":n.value,"onUpdate:pictureShown":r[0]||(r[0]=v=>n.value=v)},null,8,["current-round","picture-shown"]))]))}}),Je=b(Qo,[["__scopeId","data-v-9c59ce0e"]]),Xo={},Zo={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"20",height:"20"};function el(e,s){return o(),i("svg",Zo,s[0]||(s[0]=[t("path",{d:"M256 40c118.621 0 216 96.075 216 216 0 119.291-96.61 216-216 216-119.244 0-216-96.562-216-216 0-119.203 96.602-216 216-216m0-32C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm-36 344h12V232h-12c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h48c6.627 0 12 5.373 12 12v140h12c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12h-72c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12zm36-240c-17.673 0-32 14.327-32 32s14.327 32 32 32 32-14.327 32-32-14.327-32-32-32z"},null,-1)]))}const tl=b(Xo,[["render",el]]),sl={class:"column guesses"},nl={key:0,class:"guess border"},ol={class:"guess-icon"},ll=["innerHTML"],al={class:"guess-icon"},il=["innerHTML"],rl={class:"text-center text-small"},ul={key:0},cl={key:1},dl=I({__name:"GuessingHistory",props:{guesses:{type:Array,required:!0},answer:{type:String,required:!0},constructionYears:{type:String},withoutHints:{type:Boolean,default:!1}},setup(e){const s=e,n=k(()=>s.constructionYears?.includes("HE")?s.constructionYears.replace("HE",'<a href="https://en.wikipedia.org/wiki/Holocene_calendar" target="_blank">HE</a>'):s.constructionYears),l=k(()=>s.guesses.slice().reverse()),a=k(()=>6-s.guesses.length),u=k(()=>a.value===1),r=k(()=>(s.answer.split("/").pop()||"").split(",")),v=k(()=>r.value[r.value.length-1]),p=k(()=>r.value[r.value.length-2]),m=k(()=>a.value<=4&&s.constructionYears),h=k(()=>a.value<=3&&v.value),y=k(()=>!s.withoutHints&&(h.value||m.value)),M=k(()=>"Hint: "+(m.value?"Built in "+n.value+". ":"")+(h.value?"The location is <b>"+v.value+"</b>":"")+(u.value&&p.value?", <b>"+p.value+"</b>":"")),d=k(()=>s.answer.split(/\/|,|-|\+|\s/).filter(Boolean)),c=S=>S.replace(new RegExp("("+d.value.join("|")+")","gi"),"<b>$1</b>");return(S,L)=>(o(),i("div",sl,[y.value?(o(),i("div",nl,[t("span",ol,[g(tl)]),t("span",{innerHTML:M.value},null,8,ll)])):$("",!0),(o(!0),i(V,null,H(l.value,j=>(o(),i("div",{class:"guess border",key:j},[t("span",al,[g(Fe)]),t("span",{innerHTML:c(j)},null,8,il)]))),128)),t("div",rl,[u.value?(o(),i("span",ul,"Last guess remaining!")):(o(),i("span",cl,w(a.value)+" guesses remaining",1))])]))}}),pl=b(dl,[["__scopeId","data-v-473931bf"]]),ml={class:"text-intro"},vl={key:1},hl=I({__name:"DailyPage",emits:["showBackModal","showFeedbackModal"],setup(e,{emit:s}){const n=s,l=K(),a=_(),u=le([]),r=le(Be()),{dayNumber:v,answer:p,constructionYears:m,copyrights:h}=r;document.title=`ArchiGuesser #${v} - Guess the daily architectural project from the pictures`,localStorage.getItem("dayNumber")===v.toString()?u.push(...JSON.parse(localStorage.getItem("guesses")||"[]")):(localStorage.setItem("dayNumber",v.toString()),localStorage.setItem("guesses",JSON.stringify([])));const y=k(()=>!!r["hors-serie"]),M=k(()=>u.length+1),d=k(()=>u.length>0&&u[u.length-1]===p),c=k(()=>M.value===7||d.value),S=j=>{l[v]==null&&(l[v]=j),l.firstPlayed||(l.firstPlayed=v),l.lastPlayed=v,localStorage.setItem("stats",JSON.stringify(l)),B(`Result ${v} : ${j}`)},L=async j=>{if(u.push(j),localStorage.setItem("guesses",JSON.stringify(u)),c.value){const A=d.value?M.value-1:0;if(S(A),a.value=await As(v,A,u,l),Ue(),d.value&&v===O()&&ge()>100){const z=ue();(!z||z.value!=="never"&&O()-z.day>6)&&n("showFeedbackModal")}}};return zs(),(j,A)=>(o(),i(V,null,[y.value&&!c.value?(o(),i(V,{key:0},[A[3]||(A[3]=t("h3",null,[f("Today is an "),t("i",null,"Hors-Série"),f("!")],-1)),t("p",ml,[A[1]||(A[1]=f(" Try to guess the ",-1)),t("b",null,w(r["hors-serie"].toLowerCase()),1),A[2]||(A[2]=f(" from the architecture! Good luck! 👏 ",-1))])],64)):$("",!0),g(Je,{"max-pictures":c.value?6:Math.min(M.value,6),"day-number":x(v),copyrights:x(h)},null,8,["max-pictures","day-number","copyrights"]),c.value?(o(),P(fo,{key:2,guesses:u,"has-won":d.value,percent:a.value,project:r,onShowBackModal:A[0]||(A[0]=z=>j.$emit("showBackModal"))},null,8,["guesses","has-won","percent","project"])):(o(),i("div",vl,[g(Oo,{onSubmittedGuess:L,placeholder:r["hors-serie"]},null,8,["placeholder"]),g(pl,{"without-hints":y.value,guesses:u,answer:x(p),constructionYears:x(m)},null,8,["without-hints","guesses","answer","constructionYears"])]))],64))}}),gl=b(hl,[["__scopeId","data-v-a50f3596"]]),pe=e=>{let s,n=e.length;for(;n!=0;)s=Math.floor(Math.random()*n),n--,[e[n],e[s]]=[e[s],e[n]];return e},fl={},yl={xmlns:"http://www.w3.org/2000/svg",height:"1em",width:"1em",viewBox:"0 0 512 512"};function wl(e,s){return o(),i("svg",yl,s[0]||(s[0]=[t("path",{d:"M20 8h10c6.627 0 12 5.373 12 12v110.625C85.196 57.047 165.239 7.715 256.793 8.001 393.18 8.428 504.213 120.009 504 256.396 503.786 393.181 392.834 504 256 504c-63.926 0-122.202-24.187-166.178-63.908-5.113-4.618-5.354-12.561-.482-17.433l7.069-7.069c4.503-4.503 11.749-4.714 16.482-.454C150.782 449.238 200.935 470 256 470c117.744 0 214-95.331 214-214 0-117.744-95.331-214-214-214-82.862 0-154.737 47.077-190.289 116H180c6.627 0 12 5.373 12 12v10c0 6.627-5.373 12-12 12H20c-6.627 0-12-5.373-12-12V20c0-6.627 5.373-12 12-12z"},null,-1)]))}const me=b(fl,[["render",wl]]),bl={key:0},kl={key:0},$l={key:1},_l={key:1},Sl={class:"answer"},Ml={class:"row"},xl={class:"column-stretch"},Cl=I({__name:"EndActions",props:["hasWon","hasReachMaxLevel","currentLevel","currentProject"],emits:["showArcadeModal","showScoreModal"],setup(e){const s=e,n=()=>window.location.reload(),l=()=>window.location.replace("/"),a=()=>{window.open(s.currentProject.links[0],"_blank")?.focus(),B("Learn")};return(u,r)=>(o(),i(V,null,[e.hasWon?(o(),i("div",bl,[r[7]||(r[7]=t("h2",null,"You got it!! 🎉",-1)),r[8]||(r[8]=t("br",null,null,-1)),e.hasReachMaxLevel?(o(),i("h3",kl,r[6]||(r[6]=[f(" You’ve reached the maximum level for this challenge! 🏆 Congrats!! 👏",-1),t("br",null,null,-1),f(" New levels will be added soon, stay tuned! ",-1)]))):(o(),i("h3",$l," You’re now level "+w(e.currentLevel)+"! 🏆 You’ve earned "+w(e.currentLevel*50)+" points! ",1)),r[9]||(r[9]=t("br",null,null,-1))])):(o(),i("div",_l,[t("h2",null,[r[10]||(r[10]=f(" The answer was: ",-1)),t("span",Sl,w(e.currentProject.answer),1)])])),t("div",Ml,[e.hasReachMaxLevel?$("",!0):(o(),i(V,{key:0},[e.hasWon?(o(),i("button",{key:0,class:"btn-primary",onClick:r[0]||(r[0]=v=>n())},[r[11]||(r[11]=t("span",null,"Next Level!",-1)),g(Y,{style:{fill:"white"}})])):(o(),i("button",{key:1,class:"btn-primary",onClick:r[1]||(r[1]=v=>n())},[r[12]||(r[12]=t("span",null,"Retry",-1)),g(me,{style:{fill:"white"}})])),r[13]||(r[13]=t("div",{class:"separator"},null,-1))],64)),t("div",xl,[!e.hasWon&&e.currentProject.links.length>0?(o(),i("button",{key:0,class:"btn-secondary",onClick:r[2]||(r[2]=v=>a())},[r[14]||(r[14]=t("span",null,"Learn more about it",-1)),g(Ge)])):$("",!0),e.hasWon?(o(),i("button",{key:1,class:"btn-secondary",onClick:r[3]||(r[3]=v=>u.$emit("showScoreModal"))},[r[15]||(r[15]=t("span",null,"Check your score",-1)),g(Re)])):$("",!0),t("button",{class:"btn-secondary",onClick:r[4]||(r[4]=v=>u.$emit("showArcadeModal"))},[r[16]||(r[16]=t("span",null,"Try another challenge",-1)),g(Y)]),t("button",{class:"btn-secondary",onClick:r[5]||(r[5]=v=>l())},[r[17]||(r[17]=t("span",null,"Back to daily challenge",-1)),g(me)])])])],64))}}),Il=b(Cl,[["__scopeId","data-v-489fab27"]]),Ll=["aria-label"],Vl=["src","type"],Al=I({__name:"AnimatedGIF",props:["filename","alt"],setup(e){const s=["webm","mp4"];return(n,l)=>(o(),i("video",{autoplay:"",loop:"",muted:"",playsinline:"","aria-label":e.alt},[(o(),i(V,null,H(s,a=>t("source",{key:a,src:`/images/gif/${e.filename}.${a}`,type:`video/${a}`},null,8,Vl)),64))],8,Ll))}}),oe=b(Al,[["__scopeId","data-v-1291de70"]]),jl={class:"column-stretch"},Pl=["onClick"],zl=I({__name:"GuessingMultipleChoice",props:{possibleAnswers:{type:Array,required:!0},answer:{type:String,required:!0}},emits:["submitted"],setup(e,{emit:s}){const n=e,l=k(()=>{const p=Ye(n.answer,n.possibleAnswers).map(({suggestion:y})=>y);if(p.length>=5)return pe(p.slice(0,5));const m=n.possibleAnswers.filter(y=>!p.includes(y)),h=p.concat(m.slice(0,5-p.length));return pe(h)}),a=_(),u=_(),r=s,v=(p,m)=>{a.value=m,u.value=p===n.answer,setTimeout(()=>{a.value=null,r("submitted",p)},300)};return(p,m)=>(o(),i("div",jl,[(o(!0),i(V,null,H(l.value,(h,y)=>(o(),i("button",{key:y,class:D({"btn-secondary":!0,"btn-animated":!0,wrong:a.value===y&&!u.value,success:a.value===y&&u.value}),onClick:M=>v(h,y)},w(h),11,Pl))),128))]))}}),Hl=b(zl,[["__scopeId","data-v-6f5a2e41"]]),Tl={key:0,class:"column column-gap-2r"},Bl={key:1,style:{margin:"auto"},href:"https://giphy.com/gifs/architect-le-corbusier-fIqbLgD1VWxkt06EFa","aria-label":"Animation of Le Corbusier"},Nl={class:"text-center"},El={key:0},Dl={key:1},Ol={key:2,class:"text-center"},Ul={class:"progress"},Rl={key:0,class:"square red"},Gl={key:3},Fl={key:4,class:"column end-display"},ql=I({__name:"ArcadePage",emits:["showArcadeModal","showLogInModal","showScoreModal"],setup(e){const n=new URLSearchParams(window.location.search).get("challenge")||"",l=pe(Te(n)),a=l.map(({answer:E})=>E),u=Math.min(xe,Math.floor(l.length/ae));let r=0;const v=W();v.dayNumber===O()?r=parseInt(v.retryCount):(X("dayNumber",O()),X("retryCount",r));const p=T()?ie:lt,m=r>p,h=_(0);v[n]&&(h.value=parseInt(v[n]));const y=k(()=>h.value===u),M=ae*(h.value+(y.value?0:1)),d=_(M),c=_(!1),S=k(()=>d.value===0),L=k(()=>c.value||S.value),j=k(()=>M-d.value),A=k(()=>d.value-(c.value?1:0)),z=k(()=>l[d.value-1]);document.title=`ArchiGuesser ${n} challenge - Level ${h.value} / ${u}`;const ye=()=>window.location.replace("/"),we=(E="")=>{B(`Challenge ${n} : ${h.value}`),js(j.value,h.value,n,E,W())},Ke=E=>{E!==z.value.answer?(c.value=!0,X("retryCount",r+1),we(z.value.answer)):(d.value--,S.value&&(we(),h.value=Math.min(u,h.value+1),X(n,h.value),Ue()))};return(E,C)=>m?(o(),i("div",Tl,[x(T)()?(o(),P(oe,{key:0,filename:"strong",alt:"Stay Strong!"})):(o(),i("a",Bl,[g(oe,{filename:"corbusier",alt:"Corbusier is watching"})])),t("header",Nl,[t("p",null,"You’ve reached your "+w(x(p))+" daily retry! 🥲",1),x(T)()?(o(),i("p",El,"Nice work!! Keep trying tomorrow!")):(o(),i("p",Dl,[C[4]||(C[4]=f(" Fortunately, you can have ",-1)),t("b",null,w(x(ie))+" daily retry",1),C[5]||(C[5]=f(" with an account (free & instant)! ",-1))]))]),x(T)()?(o(),i("button",{key:2,class:"btn-secondary self-center",onClick:C[0]||(C[0]=F=>ye())},[C[6]||(C[6]=t("span",null,"Back to daily challenge",-1)),g(me)])):(o(),i("button",{key:3,class:"btn-primary",onClick:C[1]||(C[1]=F=>E.$emit("showLogInModal"))},C[7]||(C[7]=[t("span",null,"Sign Up/Sign In",-1)])))])):(o(),i("div",{key:1,class:D({column:!0,"column-gap-2r":S.value})},[S.value?(o(),P(oe,{key:1,filename:"applause",alt:"congrats!"})):(o(),P(Je,{key:0,"only-last-picture":!0,"day-number":z.value.days[0],copyrights:z.value.copyrights[0]},null,8,["day-number","copyrights"])),L.value?$("",!0):(o(),i("header",Ol,[C[8]||(C[8]=f(" You’re playing the ",-1)),t("b",null,w(x(n)),1),C[9]||(C[9]=f(" challenge (",-1)),t("b",null,"level "+w(h.value),1),C[10]||(C[10]=f("), you have ",-1)),t("b",null,w(d.value),1),C[11]||(C[11]=f(" projects to guess properly to win! ",-1))])),t("div",Ul,[(o(!0),i(V,null,H(j.value,F=>(o(),i("span",{class:"square green",key:F},"🟩"))),128)),c.value?(o(),i("span",Rl,"🟥")):$("",!0),(o(!0),i(V,null,H(A.value,F=>(o(),i("span",{class:"square black",key:F},"⬛"))),128))]),L.value?(o(),i("div",Fl,[g(Il,{hasWon:S.value,hasReachMaxLevel:y.value,currentLevel:h.value,currentProject:z.value,onShowArcadeModal:C[2]||(C[2]=F=>E.$emit("showArcadeModal")),onShowScoreModal:C[3]||(C[3]=F=>E.$emit("showScoreModal"))},null,8,["hasWon","hasReachMaxLevel","currentLevel","currentProject"])])):(o(),i("div",Gl,[g(Hl,{possibleAnswers:x(a),answer:z.value.answer,onSubmitted:Ke},null,8,["possibleAnswers","answer"])]))],2))}}),Wl=b(ql,[["__scopeId","data-v-c6d7aaf1"]]),Yl=I({__name:"App",setup(e){const s=[...Ce,...re,"test"],n=_(window.location.hash==="#replay"),l=_(window.location.hash==="#info"||Z()),a=_(!1),u=_(window.location.hash==="#score"),r=_(!1),v=_(window.location.hash==="#challenges"),p=_(!1),m=new URLSearchParams(window.location.search),h=m.get("day"),y=s.includes(m.get("challenge")||"");return h&&parseInt(h)>O()&&(window.location.href="/"),(M,d)=>(o(),i(V,null,[g(ms,{"is-visible":n.value,"onUpdate:isVisible":d[0]||(d[0]=c=>n.value=c)},null,8,["is-visible"]),g(Gt,{"is-visible":l.value,"onUpdate:isVisible":d[1]||(d[1]=c=>l.value=c)},null,8,["is-visible"]),g(gs,{"is-visible":a.value,"onUpdate:isVisible":d[2]||(d[2]=c=>a.value=c)},null,8,["is-visible"]),g(Is,{"is-visible":u.value,"onUpdate:isVisible":d[3]||(d[3]=c=>u.value=c)},null,8,["is-visible"]),g(Us,{"is-visible":r.value,"onUpdate:isVisible":d[4]||(d[4]=c=>r.value=c)},null,8,["is-visible"]),g(Sn,{"is-visible":p.value,"onUpdate:isVisible":d[5]||(d[5]=c=>p.value=c)},null,8,["is-visible"]),g(rn,{"is-visible":v.value,"onUpdate:isVisible":d[6]||(d[6]=c=>v.value=c),onShowLogInModal:d[7]||(d[7]=c=>r.value=!0)},null,8,["is-visible"]),g(Hn,{onShowBackModal:d[8]||(d[8]=c=>n.value=!0),onShowInfoModal:d[9]||(d[9]=c=>l.value=!0),onShowScoreModal:d[10]||(d[10]=c=>u.value=!0),onShowArcadeModal:d[11]||(d[11]=c=>v.value=!0),onShowUserModal:d[12]||(d[12]=c=>x(T)()?a.value=!0:r.value=!0)}),t("main",null,[x(y)?(o(),P(Wl,{key:0,onShowLogInModal:d[13]||(d[13]=c=>r.value=!0),onShowScoreModal:d[14]||(d[14]=c=>u.value=!0),onShowArcadeModal:d[15]||(d[15]=c=>v.value=!0)})):(o(),P(gl,{key:1,onShowBackModal:d[16]||(d[16]=c=>n.value=!0),onShowFeedbackModal:d[17]||(d[17]=c=>p.value=!0)}))])],64))}});et(Yl).mount("#app");
